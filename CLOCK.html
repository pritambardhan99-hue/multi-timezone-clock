<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Multi Timezone Digital Clocks</title>
  <style>
    :root{
      --bg: #0f1724;
      --card: #0b1220;
      --muted: #9aa7bf;
      --accent: #60a5fa;
      --glass: rgba(255,255,255,0.03);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color-scheme: dark;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#071021);color:#e6eef8}
    .wrap{max-width:1100px;margin:28px auto;padding:18px}
    header{display:flex;align-items:center;gap:18px;margin-bottom:18px}
    header h1{font-size:20px;margin:0}
    .controls{margin-left:auto;display:flex;gap:8px;align-items:center}
    .controls label{font-size:13px;color:var(--muted)}
    .controls select,.controls input{background:var(--glass);border:1px solid rgba(255,255,255,0.04);color:inherit;padding:6px 8px;border-radius:6px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:14px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:14px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);box-shadow: 0 6px 18px rgba(2,6,23,0.6)}
    .tz-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
    .tz-name{font-weight:600}
    .tz-sub{font-size:12px;color:var(--muted)}
    .time{font-family: "Roboto Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New", monospace;font-size:28px;margin-top:6px}
    .date{font-size:13px;color:var(--muted);margin-top:4px}
    .row{display:flex;gap:8px;align-items:center}
    .btn{background:transparent;border:1px solid rgba(255,255,255,0.06);color:inherit;padding:6px 8px;border-radius:6px;cursor:pointer}
    .btn.danger{border-color:#ff6b6b;color:#ffb3b3}
    .btn.primary{border-color:var(--accent);background:linear-gradient(90deg, rgba(96,165,250,0.12), rgba(96,165,250,0.06))}
    footer{margin-top:18px;color:var(--muted);font-size:13px}
    @media (max-width:520px){
      .time{font-size:22px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Digital Clocks — Multiple Time Zones</h1>
      <div class="controls">
        <label for="tzPicker">Add timezone</label>
        <input id="tzInput" list="tzlist" placeholder="Type or pick (e.g. Asia/Kolkata)" />
        <datalist id="tzlist"></datalist>

        <label for="tzFormat">Format</label>
        <select id="tzFormat">
          <option value="auto">Auto (12/24 by locale)</option>
          <option value="12">12-hour</option>
          <option value="24">24-hour</option>
        </select>

        <button id="addBtn" class="btn primary">Add</button>
        <button id="resetBtn" class="btn">Reset</button>
      </div>
    </header>

    <div class="grid" id="clockGrid" aria-live="polite"></div>

    <footer>
      Default list contains common zones. Add any IANA time zone (e.g. "America/Los_Angeles", "Europe/Berlin"). This page uses Intl APIs so time is computed in the browser.
    </footer>
  </div>

  <script>
    // Preload a helpful list of common IANA time zone identifiers.
    const COMMON_TZ = [
      "Local",
      "UTC",
      "America/New_York",
      "America/Chicago",
      "America/Denver",
      "America/Los_Angeles",
      "America/Sao_Paulo",
      "Europe/London",
      "Europe/Berlin",
      "Europe/Moscow",
      "Africa/Cairo",
      "Asia/Dubai",
      "Asia/Kolkata",
      "Asia/Shanghai",
      "Asia/Tokyo",
      "Asia/Singapore",
      "Australia/Sydney",
      "Pacific/Auckland"
    ];

    const grid = document.getElementById("clockGrid");
    const tzInput = document.getElementById("tzInput");
    const tzList = document.getElementById("tzlist");
    const addBtn = document.getElementById("addBtn");
    const resetBtn = document.getElementById("resetBtn");
    const tzFormat = document.getElementById("tzFormat");

    // populate datalist for convenience
    COMMON_TZ.forEach(tz => {
      const opt = document.createElement("option");
      opt.value = tz === "Local" ? Intl.DateTimeFormat().resolvedOptions().timeZone || "Local" : tz;
      tzList.appendChild(opt);
    });

    // Manage clocks in an ordered array (strings: tz identifiers)
    let clocks = [
      "Local",
      "UTC",
      "Asia/Kolkata",
      "America/New_York"
    ];

    function normalizeTZ(tz) {
      if (!tz) return null;
      tz = tz.trim();
      if (/^local$/i.test(tz)) return "Local";
      return tz;
    }

    function getFormatterOptions(hour12Flag) {
      const opts = {
        hour: "2-digit",
        minute: "2-digit",
        second: "2-digit",
        weekday: "short",
        day: "2-digit",
        month: "short",
        year: "numeric",
        hour12: hour12Flag
      };
      return opts;
    }

    function timeForZone(tz, hour12) {
      // tz can be "Local" meaning browser local timezone.
      const options = getFormatterOptions(hour12);
      try {
        if (tz === "Local") {
          return {
            time: new Intl.DateTimeFormat(undefined, options).format(new Date()),
            date: new Intl.DateTimeFormat(undefined, {weekday:"short", day:"2-digit", month:"short", year:"numeric"}).format(new Date()),
            tzname: Intl.DateTimeFormat().resolvedOptions().timeZone || "Local"
          };
        } else {
          return {
            time: new Intl.DateTimeFormat(undefined, {...options, timeZone: tz}).format(new Date()),
            date: new Intl.DateTimeFormat(undefined, {weekday:"short", day:"2-digit", month:"short", year:"numeric", timeZone: tz}).format(new Date()),
            tzname: tz
          };
        }
      } catch (err) {
        // invalid timezone -> fallback
        return {
          time: "—",
          date: "Invalid timezone",
          tzname: tz
        };
      }
    }

    function render() {
      grid.innerHTML = "";
      clocks.forEach((tz, idx) => {
        const card = document.createElement("div");
        card.className = "card";
        card.setAttribute("data-tz", tz);

        const headerEl = document.createElement("div");
        headerEl.className = "tz-title";

        const title = document.createElement("div");
        title.innerHTML = `<div class="tz-name">${tz === "Local" ? "Local" : tz}</div><div class="tz-sub" id="tzsub-${idx}"></div>`;

        const actions = document.createElement("div");
        actions.className = "row";
        const up = document.createElement("button");
        up.className = "btn";
        up.title = "Move up";
        up.textContent = "↑";
        up.onclick = () => moveClock(idx, -1);
        const down = document.createElement("button");
        down.className = "btn";
        down.title = "Move down";
        down.textContent = "↓";
        down.onclick = () => moveClock(idx, +1);
        const remove = document.createElement("button");
        remove.className = "btn danger";
        remove.textContent = "Remove";
        remove.onclick = () => { removeClock(idx); };

        actions.appendChild(up);
        actions.appendChild(down);
        actions.appendChild(remove);

        headerEl.appendChild(title);
        headerEl.appendChild(actions);

        const timeEl = document.createElement("div");
        timeEl.className = "time";
        timeEl.id = `time-${idx}`;
        timeEl.textContent = "--:--:--";

        const dateEl = document.createElement("div");
        dateEl.className = "date";
        dateEl.id = `date-${idx}`;

        card.appendChild(headerEl);
        card.appendChild(timeEl);
        card.appendChild(dateEl);

        grid.appendChild(card);
      });
      // update immediately so UI isn't blank
      updateClocks();
    }

    function updateClocks() {
      const hour12pref = tzFormat.value === "12" ? true : (tzFormat.value === "24" ? false : undefined);
      clocks.forEach((tz, idx) => {
        const effectiveHour12 = (hour12pref === undefined) ? (undefined) : hour12pref;
        // If undefined, rely on user's locale; Intl handles undefined hour12 by locale default.
        const { time, date, tzname } = timeForZone(tz, effectiveHour12);
        const timeEl = document.getElementById(`time-${idx}`);
        const dateEl = document.getElementById(`date-${idx}`);
        const subEl = document.getElementById(`tzsub-${idx}`);
        if (timeEl) timeEl.textContent = time;
        if (dateEl) dateEl.textContent = date;
        if (subEl) subEl.textContent = tzname;
      });
    }

    function addClock(tz) {
      const n = normalizeTZ(tz);
      if (!n) return;
      // avoid duplicates (case-insensitive)
      const exists = clocks.some(c => c.toLowerCase() === n.toLowerCase());
      if (exists) {
        alert("Timezone already added.");
        return;
      }
      clocks.push(n);
      render();
    }

    function removeClock(idx) {
      clocks.splice(idx, 1);
      render();
    }

    function moveClock(idx, delta) {
      const target = idx + delta;
      if (target < 0 || target >= clocks.length) return;
      const tmp = clocks[target];
      clocks[target] = clocks[idx];
      clocks[idx] = tmp;
      render();
    }

    addBtn.addEventListener("click", () => {
      const tz = tzInput.value || "";
      addClock(tz);
      tzInput.value = "";
    });

    tzInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();
        addBtn.click();
      }
    });

    resetBtn.addEventListener("click", () => {
      clocks = ["Local","UTC","Asia/Kolkata","America/New_York"];
      render();
    });

    // Start UI
    render();
    // Update every 1 second
    setInterval(updateClocks, 1000);

    // Keyboard shortcut: "a" focuses add input
    window.addEventListener("keydown", (e) => {
      if (e.key === "a" && !e.metaKey && !e.ctrlKey && !e.altKey) {
        tzInput.focus();
      }
    });
  </script>
</body>
</html>